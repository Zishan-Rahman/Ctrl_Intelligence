{% extends 'base_content.html' %}
{% block content %}
    <div class="container">
      {% if request.user.get_number_of_ratings < 10 %}
      <div class="alert alert-warning" role="alert">
        You need to rate 10 books to get better recommendations. You have rated  
        {% if request.user.get_number_of_ratings == 0 %}
            no books yet
        {% elif request.user.get_number_of_ratings == 1 %}
            1 book
        {% else %}
            {{request.user.get_number_of_ratings}} books
        {% endif %}
        , so click "Browse" then "All Books" or click "Search" on the toolbar to search for books to rate!
      </div>
      {% endif %}
    <div class="row">
        <div class="col-6">

        <h4 style="padding-top: 10px;"><strong>Recommended for {{ request.user.first_name }}</strong></h4>

            <div class="book-table">
    <table class="table table-hover table-borderless text-dark" style="background-color: white;border-style: groove ;border-color: brown">
    <tbody>
      {% for book in recommendations %}
      <tr class="clickable-row" data-href="{% url 'book_profile' book.id %}">
        <td><img src="{{ book.medium_url }}" alt="a"></td>
        <td><strong>{{ book.title }}</strong></td>
      </tr>
      {% endfor %}
    </tbody>
      </table>
        </div>
    </div>

    <div class="col-6">
        <div class="row">

        </div>
        <div class="row">

        </div>
    </div>

    </div>
    </div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script>
  jQuery(document).ready(function($) {
      $(".clickable-row").click(function() {
          window.location = $(this).data("href");
      });
  });
</script>


{% endblock %}

